<main class="page-content">
  <div class="page-inner">
      <div class="main-wrapper">
          <div class="row">
            <div class="col-md-12">
                <section class="panel tasks-widget">
                    <header class="panel-heading">
                        <button title="Back" type="button" class="btn btn-default" style="border:0" ng-click="backUrl()">
                          <img src="/app/components/img/back.png" width="30" height="30"></img>
                        </button>
                        Danh sách các tasks
                        <button type="button" class="btn btn-default" style="float:right; border:0" ng-click="logout()">
                         <strong>Logout</strong>
                        </button>
                    </header>
                    <div class="panel-body">

                        <div class="task-content">

                            <table class="table table-hover">
                              <thead>
                                <tr>
                                  <th>Tasks</th>
                                  <th>Status</th>
                                  <th>Level</th>
                                  <th>Last update</th>
                                  <th>Action</th>
                                </tr>
                              </thead>

                              
                                <tr class="task-title" ng-repeat="(key, task) in tasks">
                                  <td class="task-title-sp"> 
                                    <input type="text" name="content" class="content" value="{{ task.content }}" id="content_{{key}}" ng-keyup="checkTaskContent(key)">
                                    <a href="#tags/{{ tag.id }}" ng-repeat="tag in task.tag">
                                      <span class="label label-default label-tag">
                                      <span class="glyphicon glyphicon-tag" aria-hidden="true">
                                      </span> {{ tag.name }}</span>
                                    </a>
                                  </td>
                                  <td>
                                    <select name="status" class="status" id="status_{{key}}" ng-model="selection" ng-change="updated(key)" ng-init="selection = 0" >
                                      <option value="0">{{ task.status }}</option>
                                      <option value="1">None</option>
                                      <option value="2">Pending</option>
                                      <option value="3">Completed</option>
                                    </select>
                                  </td>
                                  <td>
                                    <span class="label label-{{ task.level }} label-lg">
                                      <label class="level">{{ task.showLevel }}</label>
                                    </span>
                                  </td>
                                  <td>
                                    {{ task.updated }}
                                  </td>
                                  <td>
                                    <button class="btn btn-danger btn-xs" ng-click="del_task(task.id)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
                                  </td>
                                </tr>
                              
                            </table>

                        </div>

                        <div class="add-task-row">
                          <input type="text" class="form-control tasks" placeholder="Write something ..." ng-model="addContent" ng-keyup="checkSubmitTask()">
                          <select id="input" class="form-control levels" required="required" ng-model="addLevel">
                            <option value="1">Low</option>
                            <option value="2">Normal</option>
                            <option value="3">High</option>
                          </select>
                          <button class="btn btn-info btn-sm pull-left" ng-click="addTask()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New Task</button>
                        </div>
                    </div>
                </section>
            </div>
        </div><!-- Row -->
      </div><!-- Main Wrapper -->
  </div><!-- Page Inner -->
</main><!-- Page Content -->

